@using static Microsoft.AspNetCore.Components.Web.RenderMode
@rendermode InteractiveAuto

@if (IsDisabled)
{
    <button type="button" class="btn btn-sm btn-outline-dark" @attributes="AdditionalAttributes">
        @((Value) ? "Yes" : "No")
    </button>
}
else
{
    <button type="button" class="btn btn-sm btn-outline-primary" @onclick="ToggleValue" @attributes="AdditionalAttributes">
        @((Value) ? "Yes" : "No")
    </button>
}

@if (AdditionalAttributes["Disabled"].ToString() == "False")
{
    <span class="text-dark">&nbsp;(Click to toggle)</span>
}

@code {
    [Parameter] public bool Value { get; set; }
    [Parameter] public EventCallback<bool> ValueChanged { get; set; }

    [Parameter(CaptureUnmatchedValues = true)] public Dictionary<string, object> AdditionalAttributes { get; set; } = null!;

    private async Task ToggleValue()
    {
        await ValueChanged.InvokeAsync(!Value);
    }
    private bool IsDisabled => (AdditionalAttributes == null) ? false : (AdditionalAttributes["Disabled"].ToString() == "True");
}
